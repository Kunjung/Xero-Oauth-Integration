{% extends "base.html" %}

{% block content %}

    {% if save_to_db %}
        <h2>Account Data successfully saved to local database</h2>
        <p>Previous data has been refreshed with latest data from xero account api</p>
        <p>You can view the accounts data stored in local database from this link: 
            <a href="https://localhost:5000/admin/oauth/account/" target="_blank">https://localhost:5000/admin/oauth/account/</a>
        </p>
    {% endif %}
    <br>
    <br>
    {% if error %}
        <div class="alert alert-danger" role="alert">
            <p>status code: {{ status_code }}</p>
            <p>error message: {{ error }}</p>
        </div>
    {% endif %}
    <hr>
    <h2>Account Data</h2>
    <table class="table table-bordered table-striped" style="width: 100%; padding: 10px; table-layout: auto;">
        <thead>
            <tr>
                <th>S.N.</th>
                <th>AccountID</th>
                <th>Code</th>
                <th>Name</th>
                <th>Status</th>
                <th>Type</th>
                <th>TaxType</th>
                <th>Class</th>
                <th>EnablePaymentsToAccount</th>
                <th>ShowInExpenseClaims</th>
                <th>BankAccountNumber</th>
                <th>BankAccountType</th>
                <th>CurrencyCode</th>
                <th>ReportingCode</th>
                <th>ReportingCodeName</th>
                <th>HasAttachments</th>
                <th>UpdatedDateUTC</th>
                <th>AddToWatchlist</th>
            </tr>
        </thead>
        <tbody>
            {% for account in data %}
                <tr>
                    <td style="font-size: 12px;">{{ forloop.counter }}</td>
                    <td style="font-size: 12px;">{{ account.AccountID }}</td>
                    <td style="font-size: 12px;">{{ account.Code }}</td>
                    <td style="font-size: 12px;">{{ account.Name }}</td>
                    <td style="font-size: 12px;">{{ account.Status }}</td>
                    <td style="font-size: 12px;">{{ account.Type }}</td>
                    <td style="font-size: 12px;">{{ account.TaxType }}</td>
                    <td style="font-size: 12px;">{{ account.Class }}</td>
                    <td style="font-size: 12px;">{{ account.EnablePaymentsToAccount }}</td>
                    <td style="font-size: 12px;">{{ account.ShowInExpenseClaims }}</td>
                    <td style="font-size: 12px;">{{ account.BankAccountNumber }}</td>
                    <td style="font-size: 12px;">{{ account.BankAccountType }}</td>
                    <td style="font-size: 12px;">{{ account.CurrencyCode }}</td>
                    <td style="font-size: 12px;">{{ account.ReportingCode }}</td>
                    <td style="font-size: 12px;">{{ account.ReportingCodeName }}</td>
                    <td style="font-size: 12px;">{{ account.HasAttachments }}</td>
                    <td style="font-size: 12px;">{{ account.UpdatedDateUTC }}</td>
                    <td style="font-size: 12px;">{{ account.AddToWatchlist }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
